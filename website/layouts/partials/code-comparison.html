<div class="code-grid">
    <div class="code-panel">
        <div class="code-panel-header">
            <span class="code-panel-file">spec.yaml</span>
            <span class="code-panel-tag">you write this</span>
        </div>
        <div class="code-panel-body">
<pre><span class="sy-p">version:</span> <span class="sy-s">"0.1.0"</span>
<span class="sy-p">name:</span> <span class="sy-s">user-api</span>

<span class="sy-p">components:</span>
  - <span class="sy-p">id:</span> <span class="sy-s">http.server.api</span>
    <span class="sy-p">kind:</span> <span class="sy-s">http.server</span>
    <span class="sy-p">spec:</span>
      <span class="sy-p">framework:</span> <span class="sy-s">hono</span>
      <span class="sy-p">port:</span> <span class="sy-n">3000</span>
      <span class="sy-p">middleware:</span>
        - <span class="sy-s">middleware.authn</span> <span class="sy-c"># Always enforced</span>
        - <span class="sy-s">middleware.authz</span>

  - <span class="sy-p">id:</span> <span class="sy-s">usecase.create-user</span>
    <span class="sy-p">kind:</span> <span class="sy-s">usecase</span>
    <span class="sy-p">spec:</span>
      <span class="sy-p">binds_to:</span> <span class="sy-s">http.server.api:POST:/users</span>
      <span class="sy-p">middleware:</span> [] <span class="sy-c"># Explicit public</span>
      <span class="sy-p">goal:</span> <span class="sy-s">Register a new user</span></pre>
        </div>
    </div>

    <div class="code-panel">
        <div class="code-panel-header">
            <span class="code-panel-file">generated/src/server.ts</span>
            <span class="code-panel-tag">generated</span>
        </div>
        <div class="code-panel-body">
<pre><span class="sy-c">// Generated by OpenBoundary - DO NOT EDIT</span>
<span class="sy-k">import</span> { Hono } <span class="sy-k">from</span> <span class="sy-s">'hono'</span>
<span class="sy-k">import</span> { authn } <span class="sy-k">from</span> <span class="sy-s">'./middleware/authn'</span>
<span class="sy-k">import</span> { authz } <span class="sy-k">from</span> <span class="sy-s">'./middleware/authz'</span>
<span class="sy-k">import</span> { createUser } <span class="sy-k">from</span> <span class="sy-s">'./handlers/users'</span>

<span class="sy-k">const</span> app = <span class="sy-k">new</span> <span class="sy-f">Hono</span>()

<span class="sy-c">// Protected routes (server-level middleware)</span>
app.<span class="sy-f">use</span>(<span class="sy-s">'*'</span>, authn, authz)

<span class="sy-c">// Public: createUser (explicit override)</span>
app.<span class="sy-f">post</span>(<span class="sy-s">'/users'</span>, createUser)

<span class="sy-k">export default</span> app</pre>
        </div>
    </div>
</div>
