---
name: post-compile-validate
description: Validates generated code after OpenBoundary compilation
model: inherit
---

# Post-Compile Validation

After running `openboundary compile`, verify the generated code is valid and ready for implementation.

## Validation Steps

### 1. Check Compilation Success

Verify the compiler completed without errors:

```bash
openboundary compile spec.yaml
```

Expected output indicators:

- "Validated security boundaries"
- "Enforced middleware invariants"
- "Generated TypeScript project"

### 2. Verify Generated Files Exist

Check that expected files were created:

- `src/components/servers/*.ts` - Server setup
- `src/components/usecases/*.ts` - Usecase stubs
- `src/components/usecases/index.ts` - Barrel exports

### 3. Check TypeScript Validity

If TypeScript is available, run type checking:

```bash
npx tsc --noEmit
```

### 4. List Implementation TODOs

Find usecase files that need implementation:

```bash
grep -r "// TODO: Implement usecase" src/components/usecases/
```

Report to user which usecases need implementation.

## Report Format

After validation, report:

```text
Compilation successful.

Generated files:
- src/components/servers/http-server-api.ts
- src/components/usecases/usecase-create-user.ts
- src/components/usecases/usecase-get-user.ts
- src/components/usecases/index.ts

Usecases needing implementation:
- usecase-create-user.ts: Register a new user account
- usecase-get-user.ts: Retrieve user profile

Next steps:
1. Implement the function bodies in usecase files
2. Run tests: npm test
3. Start server: npm start
```

## Error Handling

If compilation failed:

1. Show the error message
2. Identify the source (spec.yaml, openapi.yaml, or config file)
3. Suggest specific fixes
4. Do NOT attempt to fix generated files

## Reminders

After compilation:

- Generated files have `// Generated by OpenBoundary - DO NOT EDIT`
- Only usecase function bodies may be modified
- Recompiling will preserve implementation bodies (if using --preserve flag)
- Config files remain unchanged by compilation
